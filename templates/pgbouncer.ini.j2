; {{ ansible_managed }}

[databases]
{% for db in pgbouncer_databases %}
{{ db.name }} = host={{ db.host }} port={{ db.port }}
{% endfor %}

[pgbouncer]
listen_addr = 0.0.0.0
listen_port = {{ pgbouncer_listen_port }}
auth_file = /etc/pgbouncer/userlist.txt
auth_type = {{ pgbouncer_auth_type }}
auth_user = {{ pgbouncer_auth_user }}
auth_query = {{ pgbouncer_auth_query }}
auth_dbname = {{ pgbouncer_auth_dbname }}
admin_users = {{ pgbouncer_admin_users }}
stats_users = {{ pgbouncer_stats_users }}
pool_mode = {{ pgbouncer_pool_mode }}
max_client_conn = {{ pgbouncer_max_client_conn }}
default_pool_size = {{ pgbouncer_default_pool_size }}
